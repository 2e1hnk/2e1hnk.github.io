<!doctype html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-138987624-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-138987624-1');
    </script>

        <meta charset="utf-8">
    <meta name="description" content="Test
">
    <meta name="author" content="Matt, 2E1HNK">
    <meta name="viewport" content="">
    <title>2m FMAC/UKAC April 2018</title>

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" sizes="192x192" href="/media/images/android-desktop.png">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Material Design Lite">
    <link rel="apple-touch-icon-precomposed" href="/media/images/ios-desktop.png">

    <!-- Tile icon for Win8 (144x144 + tile color) -->
    <meta name="msapplication-TileImage" content="/media/images/touch/ms-touch-icon-144x144-precomposed.png">
    <meta name="msapplication-TileColor" content="#3372DF">

    <link rel="shortcut icon" href="/media/images/favicon.png">

    <!-- LeafletJS CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin="">

        <!-- Place favicon.ico & apple-touch-icon.png
          in the root of your domain and delete these references -->
    <link rel="shortcut icon" href="/media/images/favicon.ico">
    <link rel="apple-touch-icon" href="/media/images/apple-touch-icon.png">
    
    <!-- SEO: If your mobile URL is different from the desktop URL, add a canonical link to the desktop page https://developers.google.com/webmasters/smartphone-sites/feature-phones -->
    <!--
    <link rel="canonical" href="http://www.example.com/">
    -->

        <link rel="stylesheet" href="/media/css/framework.css">
    <link rel="stylesheet" href="/media/css/style.css">
    
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
  <script src="/media/js/leaflet-heatmap.js"></script>
  <script src="/media/js/HamGridSquare.js"></script>
  <script src="/media/js/adif.js"></script>
  <script src="/media/js/chart.min.js"></script>
          </head>
  <body id="fmac-ukac-april-2018">
    <div class="container">
    <div class="card drop-shadow">
      <div class="card-header card-default">
        2E1HNK       </div>
      <div class="card-content">
        <ul class="nav">
          <li><a href="/">Home</a></li>
          <li><a href="/about.html">About</a></li>
          <li><a href="/blog">Blog</a></li>
          <li><a href="/projects">Projects</a></li>
          <li><a href="/ogps">OGPS</a></li>
        </ul>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="card drop-shadow">
    <div class="card-content">
      <div class="row">
        <div class="col-6">
                      <a class="nav-previous" href="/blog/wab6m-july-2000.html">
              6m Worked All Britain July 200
            </a>
                  </div>
        <div class="col-6 right-align">
                      <a class="nav-next" href="/blog/ft857-power-output-stuck.html">
              Yaesu FT-857d Power Output Stuck
            </a>
                  </div>
      </div>
    </div>
  </div>

  <div class="card drop-shadow">
    <div class="card-header">
      2m FMAC/UKAC April 2018
    </div>

    <div class="card-meta">
      <div class="avatar">&nbsp;</div><span>Matt, 2E1HNK</span>,
      <span>
        <time datetime="2018-04-03">
          Tue, 03 Apr 2018
        </time>
      </span>
      <br />
                        <a class="pill" href="/blog/tags/FMAC.html" class="pill">FMAC</a>
                  <a class="pill" href="/blog/tags/UKAC.html" class="pill">UKAC</a>
                  <a class="pill" href="/blog/tags/Activation.html" class="pill">Activation</a>
                  </div>

    <div class="card-content">
      <p>Participated in both the 2m FMAC and UKAC events with a family meal
in the middle.
FMAC was just a single contact with the ever-present
M0RKX/P. I was hoping to get M0RSD too as Iâ€™d heard him a few
minutes earlier doing a demo for some foundation students but he
either had other commitments or Alcester-Dudley was a no-go.
Operated from the car park of the Moat House, Alcester (IO92BF, 21m
asl) using a Baofeng UV5R and the 2m/70cm mini magnetic whip that I
picked up in the Maplin closing-down sale a few weeks ago. I
started operating for the UKAC at about 9pm (2000 UTC), having
missed the first hour of the contest due to family commitments. I
made 11 contacts across 4 grid squares with the best DX being
G0HEL/P in IO81WG at about 107km - not too bad off a vertical.
Operating location was chosen primarily for its proximity to my
route home from the restaurant and was a lay-by off the B4088 just
south of the junction with the A422 (IO92AF, 122m asl). It was
surprisingly comfortable with the lay-by being set back from the
road and separated from it by some trees. This reduced the sound of
passing vehicles (not that there were many) and reduced the chance
of muggles taking an interest. This was the first outing for both
my Yaesu FT857d and Diamond X200. There was a small issue with the
FT857d (<a href="/blog/TechNote/1.html">see TechNote#1</a>) but
that was resolved on-site. The setup performed well, but has left
me wanting a 2m Yagi! The next problem that I encountered was when
I tried to submit the log the following day - I submitted it fine
but got an email enquiring about my RSGB membership status - I
hadn't realised that membership was a prerequisite for entering.</p>
<p>Total QSOs: 1</p>
<p>Total Points: 24</p>
<p>Normalised Points: 143</p>
<p>ODX: M0RKX/P (IO92BA - 24km)</p>
<p>Final Position: 19 (of 21)</p>              <h3>UKAC</h3>
                  <div id="stats-UKAC">
  <p>Total QSOs: <span id="stats-UKAC-totalqsos">?</span></p>
  <p>Total Points: <span id="stats-UKAC-total">?</span> (<span id="stats-UKAC-points">?</span> QSO points + <span id="stats-UKAC-bonus">?</span> bonus points)</p>
  <p>ODX: <span id="stats-UKAC-odx">?</span></p>
</div>

<script>
  var myLocation = [];
  gridSquareToLatLon("IO92bf", myLocation);

  readTextFile("/media/logs/2E1HNK_2018_04_03_144 MHz_UKAC.adi", function(log) {
    totalQsos = 0;
    odxDist = 0;
    points = 0;
    bonusSquares = [];
    odx = "";
    for(var i=0; i<log.length; i++) {
      if ( log[i].latitude && log[i].longitude ) {
        if ( distBetweenLocations(myLocation.lat, myLocation.lon, log[i].latitude, log[i].longitude) > odxDist ) {
          odxDist = distBetweenLocations(myLocation.lat, myLocation.lon, log[i].latitude, log[i].longitude);
          odx = log[i].callsign + " (" + log[i].locator + ", " + Math.round(odxDist) + "km)"
        }
      }
      if ( !bonusSquares.includes(log[i].locator.substring(0,4)) ) {
        bonusSquares.push(log[i].locator.substring(0,4));
      }
      totalQsos++;
      points += log[i].points;
    }
    document.getElementById("stats-UKAC-totalqsos").textContent = totalQsos;
    document.getElementById("stats-UKAC-points").textContent = points;
    document.getElementById("stats-UKAC-bonus").textContent = bonusSquares.length * 500;
    document.getElementById("stats-UKAC-total").textContent = points + bonusSquares.length * 500;
    document.getElementById("stats-UKAC-odx").textContent = odx;
  });
</script>


                <div id="container" style="width: 100%;">
  <canvas id="rateChart-UKAC" class="rate-chart"></canvas>
</div>
<div style="height: 450px" id="map-UKAC"></div>

<script>
  var myLocation = [];
  gridSquareToLatLon("IO92bf", myLocation);

  var osmLayerUKAC = L.tileLayer('//tileserver.eastus.cloudapp.azure.com/{id}/{z}/{x}/{y}.png', {
    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery &copy; <a href="https://www.mapbox.com/">Mapbox</a>',
    maxZoom: 18,
    id: 'ham'
  });

  var portableIcon = L.icon({
    iconUrl: '/media/svg/portable.svg',
    iconSize:     [30, 30], // size of the icon
    iconAnchor:   [15, 15], // point of the icon which will correspond to marker's location
    popupAnchor:  [0, -30] // point from which the popup should open relative to the iconAnchor
  });

  var mobileIcon = L.icon({
    iconUrl: '/media/svg/mobile.svg',
    iconSize:     [30, 30], // size of the icon
    iconAnchor:   [15, 15], // point of the icon which will correspond to marker's location
    popupAnchor:  [0, -30] // point from which the popup should open relative to the iconAnchor
  });

  var baseIcon = L.icon({
    iconUrl: '/media/svg/base.svg',
    iconSize:     [30, 30], // size of the icon
    iconAnchor:   [15, 15], // point of the icon which will correspond to marker's location
    popupAnchor:  [0, -30] // point from which the popup should open relative to the iconAnchor
  });

  var myIcon = L.icon({
    iconUrl: '/media/svg/me-portable.svg',
    iconSize:     [30, 30], // size of the icon
    iconAnchor:   [15, 15], // point of the icon which will correspond to marker's location
    popupAnchor:  [0, -30]  // point from which the popup should open relative to the iconAnchor
  });

  var heatmapLayerUKAC = L.heatLayer([], {radius: 25, maxZoom: 8});

  var stationsLayerUKAC = L.featureGroup([]);

  stationsLayerUKAC.addLayer(
    L.marker(
      [myLocation.lat, myLocation.lon],
      {icon: myIcon}
    ).bindPopup(
      "<b>IO92bf<br />"
    )
  );

  readTextFile("/media/logs/2E1HNK_2018_04_03_144 MHz_UKAC.adi", function(log) {
    rateUKAC = {};
    rateGroupInterval = 5;   // Interval (in minutes) to group QSOs for the rate graph

    for(var i=0; i<log.length; i++) {
      if ( log[i].latitude && log[i].longitude ) {
        heatmapLayerUKAC.addLatLng([log[i].latitude, log[i].longitude, 1]);
        if ( log[i].callsign.endsWith("/P") ) {
          var iconType = portableIcon;
        } else if ( log[i].callsign.endsWith("/M") ) {
          var iconType = mobileIcon;
        } else {
          var iconType = baseIcon;
        }
          stationsLayerUKAC.addLayer(
            L.marker(
              [log[i].latitude, log[i].longitude],
              {icon: iconType}
            ).bindPopup(
              "<b>" + log[i].callsign + "</b> (" + log[i].locator + ")<br />" +
              log[i].date + " " + log[i].time + "<br />" +
              "TX: " + log[i].rst_tx + " " + log[i].serial_tx + "<br />" +
              "RX: " + log[i].rst_rx + " " + log[i].serial_rx + "<br />"
            )
          );
      } else if ( log[i].locator ) {
        latlng = gridSquareToLatLon(log[i].locator, log[i]);
        heatmapLayerUKAC.addLatLng([log[i].lat, log[i].lon, 1]);
      }

      // Add QSO to rate object
      rateKey = log[i].date + " " + Math.floor(parseInt(log[i].time) / rateGroupInterval) * rateGroupInterval;
      rateKey in rateUKAC ? rateUKAC[rateKey]++ : rateUKAC[rateKey] = 1;
    }

    mapUKAC.fitBounds(stationsLayerUKAC.getBounds().pad(0.5));

    console.log("rate", rateUKAC);

    var chartDataUKAC = {
      labels: Object.keys(rateUKAC),
      datasets: [{
        label: "QSOs per " + rateGroupInterval + " mins",
        backgroundColor: '#5695c8',
				borderColor: '#31517a',
				borderWidth: 1,
        fill: false,
				data: Object.values(rateUKAC)
      }]
    };

    console.log("chartData", chartDataUKAC);

    // Draw the rate chart
    //window.onload = function() {
      var ctxUKAC = document.getElementById('rateChart-UKAC').getContext('2d');
      window.rateBarChartUKAC = new Chart(ctxUKAC, {
        type: 'line',
        data: chartDataUKAC,
        options: {
          responsive: true,
          legend: {
            position: 'top',
          },
          title: {
            display: true,
            text: 'UKAC Rate Chart'
          }
        }
      });

    //};
  });

  heatmapLayerUKAC.redraw();

  var basemapsUKAC = {"OpenStreetMap": osmLayerUKAC};
  var overlayMapsUKAC = {"Heatmap (UKAC)": heatmapLayerUKAC, "Stations": stationsLayerUKAC};

  var mapUKAC = new L.map('map-UKAC', {
    zoom: 6,
    attributionControl: true,
    layers: [osmLayerUKAC, heatmapLayerUKAC, stationsLayerUKAC]
  });
  //mapUKAC.setView([51.945732, -1.926986], 6);
  mapUKAC.fitBounds(stationsLayerUKAC.getBounds().pad(0.5));

  L.control.layers(basemapsUKAC, overlayMapsUKAC).addTo(mapUKAC);

</script>


              <h3>FMAC</h3>
                  <div id="stats-FMAC">
  <p>Total QSOs: <span id="stats-FMAC-totalqsos">?</span></p>
  <p>Total Points: <span id="stats-FMAC-total">?</span> (<span id="stats-FMAC-points">?</span> QSO points + <span id="stats-FMAC-bonus">?</span> bonus points)</p>
  <p>ODX: <span id="stats-FMAC-odx">?</span></p>
</div>

<script>
  var myLocation = [];
  gridSquareToLatLon("IO92bf", myLocation);

  readTextFile("/media/logs/2E1HNK_2018_04_03_144 MHz_FMAC.adi", function(log) {
    totalQsos = 0;
    odxDist = 0;
    points = 0;
    bonusSquares = [];
    odx = "";
    for(var i=0; i<log.length; i++) {
      if ( log[i].latitude && log[i].longitude ) {
        if ( distBetweenLocations(myLocation.lat, myLocation.lon, log[i].latitude, log[i].longitude) > odxDist ) {
          odxDist = distBetweenLocations(myLocation.lat, myLocation.lon, log[i].latitude, log[i].longitude);
          odx = log[i].callsign + " (" + log[i].locator + ", " + Math.round(odxDist) + "km)"
        }
      }
      if ( !bonusSquares.includes(log[i].locator.substring(0,4)) ) {
        bonusSquares.push(log[i].locator.substring(0,4));
      }
      totalQsos++;
      points += log[i].points;
    }
    document.getElementById("stats-FMAC-totalqsos").textContent = totalQsos;
    document.getElementById("stats-FMAC-points").textContent = points;
    document.getElementById("stats-FMAC-bonus").textContent = bonusSquares.length * 500;
    document.getElementById("stats-FMAC-total").textContent = points + bonusSquares.length * 500;
    document.getElementById("stats-FMAC-odx").textContent = odx;
  });
</script>


                <div id="container" style="width: 100%;">
  <canvas id="rateChart-FMAC" class="rate-chart"></canvas>
</div>
<div style="height: 450px" id="map-FMAC"></div>

<script>
  var myLocation = [];
  gridSquareToLatLon("IO92bf", myLocation);

  var osmLayerFMAC = L.tileLayer('//tileserver.eastus.cloudapp.azure.com/{id}/{z}/{x}/{y}.png', {
    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery &copy; <a href="https://www.mapbox.com/">Mapbox</a>',
    maxZoom: 18,
    id: 'ham'
  });

  var portableIcon = L.icon({
    iconUrl: '/media/svg/portable.svg',
    iconSize:     [30, 30], // size of the icon
    iconAnchor:   [15, 15], // point of the icon which will correspond to marker's location
    popupAnchor:  [0, -30] // point from which the popup should open relative to the iconAnchor
  });

  var mobileIcon = L.icon({
    iconUrl: '/media/svg/mobile.svg',
    iconSize:     [30, 30], // size of the icon
    iconAnchor:   [15, 15], // point of the icon which will correspond to marker's location
    popupAnchor:  [0, -30] // point from which the popup should open relative to the iconAnchor
  });

  var baseIcon = L.icon({
    iconUrl: '/media/svg/base.svg',
    iconSize:     [30, 30], // size of the icon
    iconAnchor:   [15, 15], // point of the icon which will correspond to marker's location
    popupAnchor:  [0, -30] // point from which the popup should open relative to the iconAnchor
  });

  var myIcon = L.icon({
    iconUrl: '/media/svg/me-portable.svg',
    iconSize:     [30, 30], // size of the icon
    iconAnchor:   [15, 15], // point of the icon which will correspond to marker's location
    popupAnchor:  [0, -30]  // point from which the popup should open relative to the iconAnchor
  });

  var heatmapLayerFMAC = L.heatLayer([], {radius: 25, maxZoom: 8});

  var stationsLayerFMAC = L.featureGroup([]);

  stationsLayerFMAC.addLayer(
    L.marker(
      [myLocation.lat, myLocation.lon],
      {icon: myIcon}
    ).bindPopup(
      "<b>IO92bf<br />"
    )
  );

  readTextFile("/media/logs/2E1HNK_2018_04_03_144 MHz_FMAC.adi", function(log) {
    rateFMAC = {};
    rateGroupInterval = 5;   // Interval (in minutes) to group QSOs for the rate graph

    for(var i=0; i<log.length; i++) {
      if ( log[i].latitude && log[i].longitude ) {
        heatmapLayerFMAC.addLatLng([log[i].latitude, log[i].longitude, 1]);
        if ( log[i].callsign.endsWith("/P") ) {
          var iconType = portableIcon;
        } else if ( log[i].callsign.endsWith("/M") ) {
          var iconType = mobileIcon;
        } else {
          var iconType = baseIcon;
        }
          stationsLayerFMAC.addLayer(
            L.marker(
              [log[i].latitude, log[i].longitude],
              {icon: iconType}
            ).bindPopup(
              "<b>" + log[i].callsign + "</b> (" + log[i].locator + ")<br />" +
              log[i].date + " " + log[i].time + "<br />" +
              "TX: " + log[i].rst_tx + " " + log[i].serial_tx + "<br />" +
              "RX: " + log[i].rst_rx + " " + log[i].serial_rx + "<br />"
            )
          );
      } else if ( log[i].locator ) {
        latlng = gridSquareToLatLon(log[i].locator, log[i]);
        heatmapLayerFMAC.addLatLng([log[i].lat, log[i].lon, 1]);
      }

      // Add QSO to rate object
      rateKey = log[i].date + " " + Math.floor(parseInt(log[i].time) / rateGroupInterval) * rateGroupInterval;
      rateKey in rateFMAC ? rateFMAC[rateKey]++ : rateFMAC[rateKey] = 1;
    }

    mapFMAC.fitBounds(stationsLayerFMAC.getBounds().pad(0.5));

    console.log("rate", rateFMAC);

    var chartDataFMAC = {
      labels: Object.keys(rateFMAC),
      datasets: [{
        label: "QSOs per " + rateGroupInterval + " mins",
        backgroundColor: '#5695c8',
				borderColor: '#31517a',
				borderWidth: 1,
        fill: false,
				data: Object.values(rateFMAC)
      }]
    };

    console.log("chartData", chartDataFMAC);

    // Draw the rate chart
    //window.onload = function() {
      var ctxFMAC = document.getElementById('rateChart-FMAC').getContext('2d');
      window.rateBarChartFMAC = new Chart(ctxFMAC, {
        type: 'line',
        data: chartDataFMAC,
        options: {
          responsive: true,
          legend: {
            position: 'top',
          },
          title: {
            display: true,
            text: 'FMAC Rate Chart'
          }
        }
      });

    //};
  });

  heatmapLayerFMAC.redraw();

  var basemapsFMAC = {"OpenStreetMap": osmLayerFMAC};
  var overlayMapsFMAC = {"Heatmap (FMAC)": heatmapLayerFMAC, "Stations": stationsLayerFMAC};

  var mapFMAC = new L.map('map-FMAC', {
    zoom: 6,
    attributionControl: true,
    layers: [osmLayerFMAC, heatmapLayerFMAC, stationsLayerFMAC]
  });
  //mapFMAC.setView([51.945732, -1.926986], 6);
  mapFMAC.fitBounds(stationsLayerFMAC.getBounds().pad(0.5));

  L.control.layers(basemapsFMAC, overlayMapsFMAC).addTo(mapFMAC);

</script>


          </div>

    <div class="card-footer">
      <div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = '/blog\fmac-ukac-april-2018.html';  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = '/blog\fmac-ukac-april-2018.html'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://2e1hnk.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    </div>

  </div>  </div>

                  
                        
  </body>
</html>